<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch</title>
</head>
<body>
    <div>
        <input type="text" placeholder="Enter name" id="name">
        <input type="password" placeholder="Enter password" id="password">
        <button id="btn">Submit</button>
    </div>
    <script>
        let nameTag = document.getElementById("name");
        let passwordTag = document.getElementById("password");
        let BtnTag = document.getElementById("btn");

        BtnTag.addEventListener('click', () => {
            const name = nameTag.value.trim();
            const password = passwordTag.value;

            if (name === "" || password === "") {
                alert("Invalid Input");
                return;
            }

            const data = {
                name: name,
                password: password
            };

            fetch("http://localhost:3000/login", {
                method: "POST",
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
                console.log('Result:', result);

                if (result.message === "Login Successful") {
                    alert("✅ Login Successful");
                } else {
                    alert("❌ " + result.message);
                }
            })
            .catch(err => {
                console.error("Error:", err);
                alert("❌ Login Failed - Server error");
            });
        });
    </script>
</body>
</html>
